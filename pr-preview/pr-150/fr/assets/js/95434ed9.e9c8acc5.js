"use strict";(self.webpackChunkai_unlimited_docs=self.webpackChunkai_unlimited_docs||[]).push([[4890],{41269:(e,a,t)=>{t.d(a,{Ay:()=>o,RM:()=>r});var n=t(74848),i=t(28453);const r=[];function s(e){const a={a:"a",admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsxs)(a.p,{children:["If you have any questions or need further assistance, please visit our ",(0,n.jsx)(a.a,{href:"https://support.teradata.com/community",children:"community forum"})," where you can get support and interact with other community members."]})})}function o(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(s,{...e})}):s(e)}},62680:(e,a,t)=>{t.d(a,{Ay:()=>o,RM:()=>r});var n=t(74848),i=t(28453);const r=[];function s(e){const a={a:"a",admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsxs)(a.p,{children:["If you need a test instance of Vantage, you can provision one for free at ",(0,n.jsx)(a.a,{href:"https://clearscape.teradata.com/sign-in?utm_source=dev_portal&utm_medium=quickstart_tutorial&utm_campaign=quickstarts",children:"https://clearscape.teradata.com"})]})})}function o(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(s,{...e})}):s(e)}},28423:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>h});var n=t(74848),i=t(28453),r=t(62680),s=t(41269);const o={sidebar_position:16,author:"Rupal Shah",email:"rupal.shah@teradata.com",page_last_update:"February 14th, 2022",description:"Connect Azure Data Share to Teradata Vantage.",keywords:["data warehouses","compute storage separation","teradata","vantage","cloud data platform","data cloud","data sharing"]},d="Connect Azure Data Share to Teradata Vantage",l={id:"manage-data/connect-azure-data-share-to-teradata-vantage",title:"Connect Azure Data Share to Teradata Vantage",description:"Connect Azure Data Share to Teradata Vantage.",source:"@site/quickstarts/manage-data/connect-azure-data-share-to-teradata-vantage.md",sourceDirName:"manage-data",slug:"/manage-data/connect-azure-data-share-to-teradata-vantage",permalink:"/pr-preview/pr-150/fr/quickstarts/manage-data/connect-azure-data-share-to-teradata-vantage",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:16,frontMatter:{sidebar_position:16,author:"Rupal Shah",email:"rupal.shah@teradata.com",page_last_update:"February 14th, 2022",description:"Connect Azure Data Share to Teradata Vantage.",keywords:["data warehouses","compute storage separation","teradata","vantage","cloud data platform","data cloud","data sharing"]},sidebar:"tutorialSidebar",previous:{title:"Store events from Twilio Segment",permalink:"/pr-preview/pr-150/fr/quickstarts/manage-data/segment"},next:{title:"Integrate Teradata Vantage with Google Cloud Data Catalog",permalink:"/pr-preview/pr-150/fr/quickstarts/manage-data/integrate-teradata-vantage-with-google-cloud-data-catalog"}},c={},h=[{value:"Overview",id:"overview",level:3},{value:"About Azure Data Share",id:"about-azure-data-share",level:3},{value:"About Teradata Vantage",id:"about-teradata-vantage",level:3},{value:"Prerequisites",id:"prerequisites",level:3},...r.RM,{value:"Procedure",id:"procedure",level:3},{value:"Create an Azure Blob Storage Account and Container",id:"create-an-azure-blob-storage-account-and-container",level:3},{value:"Create a Data Share Account",id:"create-a-data-share-account",level:3},{value:"Create a Share",id:"create-a-share",level:3},{value:"Accept and Receive Data Using Azure Data Share",id:"accept-and-receive-data-using-azure-data-share",level:3},{value:"Open invitation",id:"open-invitation",level:4},{value:"Accept invitation",id:"accept-invitation",level:4},{value:"Configure received share",id:"configure-received-share",level:4},{value:"Configure NOS Access to Azure Blob Storage",id:"configure-nos-access-to-azure-blob-storage",level:3},{value:"Create a foreign table definition",id:"create-a-foreign-table-definition",level:4},{value:"Query the Dataset in Azure Blob Storage",id:"query-the-dataset-in-azure-blob-storage",level:3},{value:"Create a View",id:"create-a-view",level:4},{value:"Load Data from Blob Storage into Vantage (optional)",id:"load-data-from-blob-storage-into-vantage-optional",level:3},{value:"Create the table and load the data in a single statement",id:"create-the-table-and-load-the-data-in-a-single-statement",level:4},{value:"Create the table and load the data in multiple statements",id:"create-the-table-and-load-the-data-in-multiple-statements",level:4},{value:"READ_NOS - An alternative method to foreign tables",id:"read_nos---an-alternative-method-to-foreign-tables",level:4},...s.RM];function p(e){const a={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"connect-azure-data-share-to-teradata-vantage",children:"Connect Azure Data Share to Teradata Vantage"}),"\n",(0,n.jsx)(a.h3,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(a.p,{children:"This article describes the process to share an Azure Blob Storage dataset from one user to another using Azure Data Share service and then query it with Teradata Vantage leveraging Native Object Store (NOS) capability. We will create and use a storage account and data share account for both users."}),"\n",(0,n.jsx)(a.p,{children:"This is a diagram of the workflow."}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{src:t(31903).A+"",width:"682",height:"301"})}),"\n",(0,n.jsx)(a.h3,{id:"about-azure-data-share",children:"About Azure Data Share"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/data-share/overview",children:"Azure Data Share"})," enables organizations to simply and securely share data with multiple customers and partners. Both the data provider and data consumer must have an Azure subscription to share and receive data. Azure Data Share currently offers snapshot-based sharing and in-place sharing. Today, Azure Data Share ",(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/data-share/supported-data-stores",children:"supported data stores"})," include Azure Blob Storage, Azure Data Lake Storage Gen1 and Gen2, Azure SQL Database, Azure Synapse Analytics and Azure Data Explorer. Once a dataset share has been sent using Azure Data Share, the data consumer is able to receive that data in a data store of their choice like Azure Blob Storage and then use Teradata Vantage to explore and analyze the data."]}),"\n",(0,n.jsxs)(a.p,{children:["For more information see ",(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/data-share",children:"documentation"}),"."]}),"\n",(0,n.jsx)(a.h3,{id:"about-teradata-vantage",children:"About Teradata Vantage"}),"\n",(0,n.jsx)(a.p,{children:"Vantage is the modern cloud platform that unifies data warehouses, data lakes, and analytics into a single connected ecosystem."}),"\n",(0,n.jsx)(a.p,{children:"Vantage combines descriptive, predictive, prescriptive analytics, autonomous decision-making, ML functions, and visualization tools into a unified, integrated platform that uncovers real-time business intelligence at scale, no matter where the data resides."}),"\n",(0,n.jsx)(a.p,{children:"Vantage enables companies to start small and elastically scale compute or storage, paying only for what they use, harnessing low-cost object stores and integrating their analytic workloads."}),"\n",(0,n.jsx)(a.p,{children:"Vantage supports R, Python, Teradata Studio, and any other SQL-based tools. You can deploy Vantage across public clouds, on-premises, on optimized or commodity infrastructure, or as-a-service."}),"\n",(0,n.jsx)(a.p,{children:"Teradata Vantage Native Object Store (NOS) can be used to explore data\xa0in external\xa0object stores, like Azure Blob Storage,\xa0using standard SQL.\xa0No special object storage-side compute infrastructure is required to use NOS.\xa0You can explore data located in an Blob Storage container by simply creating\xa0a NOS table definition that points to\xa0your container. With NOS, you can quickly import data from Blob Storage or even join it other tables in the database."}),"\n",(0,n.jsx)(a.p,{children:"Alternatively, the Teradata Parallel Transporter (TPT) utility can be used to import data from Blob Storage to Teradata Vantage in bulk fashion. Once loaded, data can be efficiently queried within Vantage."}),"\n",(0,n.jsxs)(a.p,{children:["For more information see ",(0,n.jsx)(a.a,{href:"https://docs.teradata.com/home",children:(0,n.jsx)(a.em,{children:"documentation"})}),"."]}),"\n",(0,n.jsx)(a.h3,{id:"prerequisites",children:"Prerequisites"}),"\n","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Access to a Teradata Vantage instance.","\n",(0,n.jsx)(r.Ay,{}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["An Azure account. You can start with a ",(0,n.jsx)(a.a,{href:"https://azure.microsoft.com/free",children:"free account"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["An ",(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-quickstart-create-account?tabs=azure-portal",children:"Azure Blob Storage"})," account to store the dataset"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"procedure",children:"Procedure"}),"\n",(0,n.jsx)(a.p,{children:"Once you have met the prerequisites, follow these steps:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Create a Azure Blob Storage account and container"}),"\n",(0,n.jsx)(a.li,{children:"Create a Data Share Account"}),"\n",(0,n.jsx)(a.li,{children:"Create a share"}),"\n",(0,n.jsx)(a.li,{children:"Accept and receive data using Data Share"}),"\n",(0,n.jsx)(a.li,{children:"Configure NOS access to Blob Storage"}),"\n",(0,n.jsx)(a.li,{children:"Query the dataset in Blob Storage"}),"\n",(0,n.jsx)(a.li,{children:"Load data from Blob Storage into Vantage (optional)"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"create-an-azure-blob-storage-account-and-container",children:"Create an Azure Blob Storage Account and Container"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Open the ",(0,n.jsx)(a.a,{href:"https://portal.azure.com/",children:"Azure portal"})," in a browser (Chrome, Firefox, and Safari work well) and follow the steps in ",(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-create?tabs=azure-portal#create-a-storage-account-1",children:"create a storage account"})," in a resource group called ",(0,n.jsx)(a.em,{children:"myProviderStorage_rg"})," in this article."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Enter a storage name and connectivity method. We will use ",(0,n.jsx)(a.em,{children:"myproviderstorage"})," and ",(0,n.jsx)(a.em,{children:"public endpoint"})," in this article."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsx)(a.p,{children:"We suggest that you use the same location for all services you create."})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select ",(0,n.jsx)(a.strong,{children:"Review + create,"})," then ",(0,n.jsx)(a.strong,{children:"Create"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.em,{children:"Go to resource"})," and click ",(0,n.jsx)(a.strong,{children:"Containers"})," to create container."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click the ",(0,n.jsx)(a.strong,{children:"+ Container"})," button."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Enter a container name. We will use ",(0,n.jsx)(a.em,{children:"providerdata"})," in this article.\n",(0,n.jsx)(a.img,{src:t(53814).A+"",width:"2003",height:"442"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click ",(0,n.jsx)(a.strong,{children:"Create"}),"."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"create-a-data-share-account",children:"Create a Data Share Account"}),"\n",(0,n.jsx)(a.p,{children:"We will create a Data Share account for the provider sharing the dataset."}),"\n",(0,n.jsxs)(a.p,{children:["Follow the ",(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/data-share/share-your-data?tabs=azure-portal#create-a-data-share-account",children:"Create an Azure Data Share Account"})," steps to create resource in a resource group called ",(0,n.jsx)(a.em,{children:"myDataShareProvider_rg"})," in this article."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["In ",(0,n.jsx)(a.strong,{children:"Basics"})," tab, enter a data share account name. We will use ",(0,n.jsx)(a.em,{children:"mydatashareprovider"})," in this article.\n",(0,n.jsx)(a.img,{src:t(28073).A+"",width:"1440",height:"986"})]}),"\n"]}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsx)(a.p,{children:"We suggest that you use the same location for all services you create."})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select ",(0,n.jsx)(a.strong,{children:"Review + create,"})," then ",(0,n.jsx)(a.strong,{children:"Create"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["When the deployment is complete, select ",(0,n.jsx)(a.em,{children:"Go to resource"}),"."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"create-a-share",children:"Create a Share"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Navigate to your Data Share Overview page and follow the steps in ",(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/data-share/share-your-data?tabs=azure-portal#create-a-share",children:"Create a share"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select ",(0,n.jsx)(a.strong,{children:"Start sharing your data"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select + ",(0,n.jsx)(a.strong,{children:"Create"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["In ",(0,n.jsx)(a.strong,{children:"Details"})," tab, enter a share name and share type. We will use ",(0,n.jsx)(a.em,{children:"WeatherData"})," and ",(0,n.jsx)(a.em,{children:"Snapshot"})," in this article.\n",(0,n.jsx)(a.img,{src:t(73248).A+"",width:"1181",height:"953"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.admonition,{title:"Snapshot share",type:"note",children:[(0,n.jsx)(a.p,{children:"Choose snapshot sharing to provide copy of the data to the recipient."}),(0,n.jsx)(a.p,{children:"Supported data store: Azure Blob Storage, Azure Data Lake Storage Gen1, Azure Data Lake Storage Gen2, Azure SQL Database, Azure Synapse Analytics (formerly SQL DW)"})]}),"\n",(0,n.jsxs)(a.admonition,{title:"In-place share",type:"note",children:[(0,n.jsx)(a.p,{children:"Choose in-place sharing to provide access to data at its source."}),(0,n.jsx)(a.p,{children:"Supported data store: Azure Data Explorer"})]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click ",(0,n.jsx)(a.strong,{children:"Continue"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["In ",(0,n.jsx)(a.em,{children:"Datasets"})," tab, click ",(0,n.jsx)(a.em,{children:"Add datasets"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select ",(0,n.jsx)(a.em,{children:"Azure Blob Storage"}),"\n",(0,n.jsx)(a.img,{src:t(28283).A+"",width:"1096",height:"1043"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click ",(0,n.jsx)(a.em,{children:"Next"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Enter Storage account providing the dataset. We will use ",(0,n.jsx)(a.em,{children:"myproviderstorage"})," in this article.\n",(0,n.jsx)(a.img,{src:t(62930).A+"",width:"1134",height:"1048"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click *",(0,n.jsx)(a.strong,{children:"Next"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Double-click container to choose the dataset. We will use ",(0,n.jsx)(a.em,{children:"providerdata"})," and ",(0,n.jsx)(a.em,{children:"onpoint_history_postal-code_hour.csv"})," file in this article.\n",(0,n.jsx)(a.img,{src:t(14933).A+"",width:"1144",height:"780"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Figure 6 Select Storage container and dataset"}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsx)(a.p,{children:"Azure Data Share can share at the folder and file level. Use Azure Blob Storage resource to upload a file."})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click ",(0,n.jsx)(a.strong,{children:"Next"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Enter a Dataset name that the consumer will see for the folder and dataset. We will use the default names but delete the providerdata folder this article. Click ",(0,n.jsx)(a.em,{children:"Add datasets"}),".\n",(0,n.jsx)(a.img,{src:t(32044).A+"",width:"1136",height:"771"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click ",(0,n.jsx)(a.strong,{children:"Add datasets"}),".\n",(0,n.jsx)(a.img,{alt:"Dataset added to Sent Shares",src:t(16670).A+"",width:"1690",height:"656"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click ",(0,n.jsx)(a.strong,{children:"Continue"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["In ",(0,n.jsx)(a.em,{children:"Recipients"})," tab, click ",(0,n.jsx)(a.em,{children:"Add recipient"})," email address to send share notification."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Enter email address for consumer.\n",(0,n.jsx)(a.img,{alt:"Add recipient email address",src:t(69159).A+"",width:"2124",height:"614"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.admonition,{type:"tip",children:(0,n.jsx)(a.p,{children:"Set Share expiration for amount of time share is valid for consumer to accept."})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click ",(0,n.jsx)(a.strong,{children:"Continue"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["In ",(0,n.jsx)(a.em,{children:"Settings"})," tab, set Snapshot schedule. We use default ",(0,n.jsx)(a.em,{children:"unchecked"})," this article.\n",(0,n.jsx)(a.img,{alt:"Set Snapshot schedule",src:t(50156).A+"",width:"1093",height:"748"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click ",(0,n.jsx)(a.em,{children:"Continue"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["In ",(0,n.jsx)(a.em,{children:"Review + Create"})," tab, click ",(0,n.jsx)(a.em,{children:"Create"}),".\n",(0,n.jsx)(a.img,{alt:"Review + Create",src:t(2421).A+"",width:"1225",height:"931"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Your Azure Data Share has now been created and the recipient of your Data Share is now ready to accept your invitation.\n",(0,n.jsx)(a.img,{alt:"Data Share ready and invitation sent to recipient",src:t(78650).A+"",width:"1390",height:"495"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"accept-and-receive-data-using-azure-data-share",children:"Accept and Receive Data Using Azure Data Share"}),"\n",(0,n.jsx)(a.p,{children:"In this article, the recipient/consumer is going to receive the data into their Azure Blob storage account."}),"\n",(0,n.jsxs)(a.p,{children:["Similar to the Data Share ",(0,n.jsx)(a.em,{children:"Provider,"})," ensure that all pre-requisites are complete for the ",(0,n.jsx)(a.em,{children:"Consumer"})," before accepting a data share invitation."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Azure Subscription: If you don't have one, create a\xa0",(0,n.jsx)(a.a,{href:"https://azure.microsoft.com/free/",children:"+++free account+++"}),"\xa0before you begin."]}),"\n",(0,n.jsxs)(a.li,{children:["Azure Blob Storage account and container: create resource group called ",(0,n.jsx)(a.em,{children:"myConsumerStorage_rg"})," and create account name ",(0,n.jsx)(a.em,{children:"myconsumerstorage"})," and container ",(0,n.jsx)(a.em,{children:"consumerdata"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["Azure Data Share account: create resource group called ",(0,n.jsx)(a.em,{children:"myDataShareConsumer_rg"})," and create a data share account name called ",(0,n.jsx)(a.em,{children:"mydatashareconsumer"})," to accept the data."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Follow the steps in ",(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/data-share/subscribe-to-data-share?tabs=azure-portal",children:"Accept and receive data using Azure Data Share"}),"."]}),"\n",(0,n.jsx)(a.h4,{id:"open-invitation",children:"Open invitation"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:['In your email, an invitation from Microsoft Azure with a subject titled "Azure Data Share invitation from\xa0',(0,n.jsxs)(a.em,{children:[(0,n.jsx)(a.a,{href:"mailto:yourdataprovider@domain.com",children:"+++yourdataprovider@domain.com+++"}),"."]})," Click on the ",(0,n.jsx)(a.em,{children:"View invitation"})," to see your invitation in Azure.\n",(0,n.jsx)(a.img,{alt:"Data Share email invitation to recipient",src:t(26403).A+"",width:"1486",height:"735"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["This action opens your browser to the list of Data Share invitations.\n",(0,n.jsx)(a.img,{alt:"Data Share invitations",src:t(89544).A+"",width:"1601",height:"423"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select the share you would like to view. We will select ",(0,n.jsx)(a.em,{children:"WeatherData"})," in this article."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"accept-invitation",children:"Accept invitation"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Under ",(0,n.jsx)(a.em,{children:"Target Data Share Account"}),", select the Subscription and Resource Group that you would like to deployed your Data Share into or you can create a new Data Share here."]}),"\n"]}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsx)(a.p,{children:"if provider required a Terms of Use acceptance, a dialog box would appear and you'll be required to check the box to indicate you agree to the terms of use."})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Enter the Resource group and Data share account. We will use ",(0,n.jsx)(a.em,{children:"myDataShareConsumer_rg"})," and ",(0,n.jsx)(a.em,{children:"mydatashareconsumer"})," account this article.\n",(0,n.jsx)(a.img,{alt:"Target Data Share account",src:t(83409).A+"",width:"1226",height:"660"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select ",(0,n.jsx)(a.em,{children:"Accept and configure"})," and a share subscription will be created."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"configure-received-share",children:"Configure received share"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select ",(0,n.jsx)(a.strong,{children:"Datasets"})," tab. Check the box next to the dataset you'd like to assign a destination to. Select + ",(0,n.jsx)(a.em,{children:"Map to target"})," to choose a target data store.\n",(0,n.jsx)(a.img,{alt:"Select Dataset and Map to target",src:t(6102).A+"",width:"1785",height:"584"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Select a target data store type and path that you'd like the data to land in. We will use consumers Azure Blob Storage account ",(0,n.jsx)(a.em,{children:"myconsumerstorage"})," and container ",(0,n.jsx)(a.em,{children:"consumerdata"})," for our snapshot example in this article."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsxs)(a.p,{children:["Azure Data Share provides open and flexible data sharing, including the ability to share from and to different data stores. Check ",(0,n.jsx)(a.a,{href:"https://docs.microsoft.com/en-us/azure/data-share/supported-data-stores#supported-data-stores",children:"supported"})," data sources that can accept snapshot and in place sharing."]})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"Map datasets to target",src:t(19391).A+"",width:"1214",height:"1192"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Click on ",(0,n.jsx)(a.strong,{children:"Map to target"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Once mapping is complete, for snapshot-based sharing click on ",(0,n.jsx)(a.em,{children:"Details"})," tab and click ",(0,n.jsx)(a.em,{children:"Trigger snapshot"})," for ",(0,n.jsx)(a.em,{children:"Full"})," or ",(0,n.jsx)(a.em,{children:"Incremental"}),". We will select full copy since this is your first time receiving data from your provider.\n",(0,n.jsx)(a.img,{alt:"Trigger full or incremental snapshot",src:t(80367).A+"",width:"993",height:"852"})]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["When the last run status is ",(0,n.jsx)(a.em,{children:"successful"}),", go to target data store to view the received data. Select ",(0,n.jsx)(a.em,{children:"Datasets"}),", and click on the link in the Target Path.\n",(0,n.jsx)(a.img,{alt:"Dataset and target path to view shared data",src:t(41350).A+"",width:"3307",height:"626"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"configure-nos-access-to-azure-blob-storage",children:"Configure NOS Access to Azure Blob Storage"}),"\n",(0,n.jsx)(a.p,{children:"Native Object Store (NOS) can directly read data in Azure Blob Storage, which allows you to explore and analyze data in Blob Storage without explicitly loading the data."}),"\n",(0,n.jsx)(a.h4,{id:"create-a-foreign-table-definition",children:"Create a foreign table definition"}),"\n",(0,n.jsx)(a.p,{children:"A foreign table definition allows data in Blob Storage to be easily referenced within the Advanced SQL Engine and makes the data available in a structured, relational format."}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsx)(a.p,{children:"NOS supports data in CSV, JSON, and Parquet formats."})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Login to your Vantage system with Teradata Studio."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Create an AUTHORIZATION object to access your Blob Storage container with the following SQL command."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"CREATE AUTHORIZATION DefAuth_AZ\nAS DEFINER TRUSTED\nUSER 'myconsumerstorage' /* Storage Account Name */\nPASSWORD '*****************' /* Storage Account Access Key or SAS Token */\n"})}),"\n",(0,n.jsxs)(a.p,{children:["** Replace the string for ",(0,n.jsx)(a.em,{children:"USER"})," with your Storage Account Name.\n** Replace the string for ",(0,n.jsx)(a.em,{children:"PASSWORD"})," with your Storage Account Access Key or SAS Token."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Create a foreign table definition for the CSV file on Blob Storage with the following SQL command."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"CREATE MULTISET FOREIGN TABLE WeatherData,\nEXTERNAL SECURITY DEFINER TRUSTED DefAuth_AZ (\n  Location VARCHAR(2048) CHARACTER SET UNICODE CASESPECIFIC,\n  Payload DATASET INLINE LENGTH 64000 STORAGE FORMAT CSV\n)\nUSING (\n  LOCATION ('/AZ/myconsumerstorage.blob.core.windows.net/consumerdata/')\n)\n"})}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsx)(a.p,{children:"At a minimum, the foreign table definition must include a table name (WeatherData) and a location clause, which points to the object store data."})}),"\n",(0,n.jsxs)(a.p,{children:["The ",(0,n.jsx)(a.em,{children:"LOCATION"})," requires a storage account name and container name. You will need to replace this with your own storage account and container name."]}),"\n",(0,n.jsxs)(a.p,{children:["If the object doesn't have a standard extension (e.g. \u201c.json\u201d, \u201c.csv\u201d, \u201c.parquet\u201d), then the ",(0,n.jsx)(a.em,{children:"Location\u2026Payload"})," columns definition phrase is also needed, and the LOCATION phase need to include the file name. For example: LOCATION (",(0,n.jsx)(a.code,{children:"AZ/<storage account name>.blob.core.windows.net/<container>/<filename>"}),")."]}),"\n",(0,n.jsx)(a.p,{children:"Foreign tables are always defined as No Primary Index (NoPI) tables."}),"\n",(0,n.jsx)(a.h3,{id:"query-the-dataset-in-azure-blob-storage",children:"Query the Dataset in Azure Blob Storage"}),"\n",(0,n.jsx)(a.p,{children:"Run the following SQL command to query the dataset."}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT * FROM WeatherData SAMPLE 10;\n"})}),"\n",(0,n.jsx)(a.p,{children:"The foreign table only contains two columns: Location and Payload. Location is the address in the object store system. The data itself is represented in the payload column, with the payload value within each record in the foreign table representing a single CSV row."}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"WeatherData table",src:t(38909).A+"",width:"2494",height:"453"})}),"\n",(0,n.jsx)(a.p,{children:"Run the following SQL command to focus on the data in the object."}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT payload..* FROM WeatherData SAMPLE 10;\n"})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"WeatherData table payload",src:t(5876).A+"",width:"897",height:"219"})}),"\n",(0,n.jsx)(a.h4,{id:"create-a-view",children:"Create a View"}),"\n",(0,n.jsx)(a.p,{children:"Views can simplify the names associated with the payload attributes, can make it easier to code SQL against the object data, and can hide the Location references in the foreign table."}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsxs)(a.p,{children:["Vantage foreign tables use the ",(0,n.jsx)(a.code,{children:".."})," (double dot or double period) operator to separate the object name from the column name."]})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following SQL command to create a view."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"REPLACE VIEW WeatherData_view AS (\n  SELECT\n    CAST(payload..postal_code AS VARCHAR(10)) Postal_code,\n    CAST(payload..country AS CHAR(2)) Country,\n    CAST(payload..time_valid_utc AS TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS') Time_Valid_UTC,\n    CAST(payload..doy_utc AS INTEGER) DOY_UTC,\n    CAST(payload..hour_utc AS INTEGER) Hour_UTC,\n    CAST(payload..time_valid_lcl AS TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS') Time_Valid_LCL,\n    CAST(payload..dst_offset_minutes AS INTEGER) DST_Offset_Minutes,\n    CAST(payload..temperature_air_2m_f AS DECIMAL(4,1)) Temperature_Air_2M_F,\n    CAST(payload..temperature_wetbulb_2m_f AS DECIMAL(3,1)) Temperature_Wetbulb_2M_F,\n    CAST(payload..temperature_dewpoint_2m_f AS DECIMAL(3,1)) Temperature_Dewpoint_2M_F,\n    CAST(payload..temperature_feelslike_2m_f AS DECIMAL(4,1)) Temperature_Feelslike_2M_F,\n    CAST(payload..temperature_windchill_2m_f AS DECIMAL(4,1)) Temperature_Windchill_2M_F,\n    CAST(payload..temperature_heatindex_2m_f AS DECIMAL(4,1)) Temperature_Heatindex_2M_F,\n    CAST(payload..humidity_relative_2m_pct AS DECIMAL(3,1)) Humidity_Relative_2M_Pct,\n    CAST(payload..humidity_specific_2m_gpkg AS DECIMAL(3,1)) Humdity_Specific_2M_GPKG,\n    CAST(payload..pressure_2m_mb AS DECIMAL(5,1)) Pressure_2M_Mb,\n    CAST(payload..pressure_tendency_2m_mb AS DECIMAL(2,1)) Pressure_Tendency_2M_Mb,\n    CAST(payload..pressure_mean_sea_level_mb AS DECIMAL(5,1)) Pressure_Mean_Sea_Level_Mb,\n    CAST(payload..wind_speed_10m_mph AS DECIMAL(3,1)) Wind_Speed_10M_MPH,\n    CAST(payload..wind_direction_10m_deg AS DECIMAL(4,1)) Wind_Direction_10M_Deg,\n    CAST(payload..wind_speed_80m_mph AS DECIMAL(3,1)) Wind_Speed_80M_MPH,\n    CAST(payload..wind_direction_80m_deg AS DECIMAL(4,1)) Wind_Direction_80M_Deg,\n    CAST(payload..wind_speed_100m_mph AS DECIMAL(3,1)) Wind_Speed_100M_MPH,\n    CAST(payload..wind_direction_100m_deg AS DECIMAL(4,1)) Wind_Direction_100M_Deg,\n    CAST(payload..precipitation_in AS DECIMAL(3,2)) Precipitation_in,\n    CAST(payload..snowfall_in AS DECIMAL(3,2)) Snowfall_in,\n    CAST(payload..cloud_cover_pct AS INTEGER) Cloud_Cover_Pct,\n    CAST(payload..radiation_solar_total_wpm2 AS DECIMAL(5,1)) Radiation_Solar_Total_WPM2\n  FROM WeatherData\n)\n"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following SQL command to validate the view."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT * FROM WeatherData_view SAMPLE 10;\n"})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"WeatherData_view",src:t(55787).A+"",width:"1837",height:"221"})}),"\n",(0,n.jsx)(a.p,{children:"Now that you have created a view, you can easily reference the object store data in a query and combine it with other tables, both relational tables in Vantage as well as foreign tables in an object store. This allows you to leverage the full analytic capabilities of Vantage on 100% of the data, no matter where the data is located."}),"\n",(0,n.jsx)(a.h3,{id:"load-data-from-blob-storage-into-vantage-optional",children:"Load Data from Blob Storage into Vantage (optional)"}),"\n",(0,n.jsx)(a.p,{children:"Having a persistent copy of the Blob Storage data can be useful when repetitive access of the same data is expected. NOS does not automatically make a persistent copy of the Blob Storage data. Each time you reference a foreign table, Vantage will fetch the data from Blob Storage. (Some data may be cached, but this depends on the size of the data in Blob Storage and other active workloads in Vantage.)"}),"\n",(0,n.jsx)(a.p,{children:"In addition, you may be charged network fees for data transferred from Blob Storage. If you will be referencing the data in Blob Storage multiple times, you may reduce your cost by loading it into Vantage, even temporarily."}),"\n",(0,n.jsx)(a.p,{children:"You can select among the approaches below to load the data into Vantage."}),"\n",(0,n.jsx)(a.h4,{id:"create-the-table-and-load-the-data-in-a-single-statement",children:"Create the table and load the data in a single statement"}),"\n",(0,n.jsx)(a.p,{children:"You can use a single statement to both create the table and load the data. You can choose the desired attributes from the foreign table payload and what they will be called in the relational table."}),"\n",(0,n.jsxs)(a.p,{children:["A ",(0,n.jsx)(a.strong,{children:"CREATE TABLE AS \u2026 WITH DATA"})," statement can be used with the foreign table definition as the source table."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following SQL command to create the relational table and load the data."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"CREATE MULTISET TABLE WeatherData_temp AS (\n  SELECT\n    CAST(payload..postal_code AS VARCHAR(10)) Postal_code,\n    CAST(payload..country AS CHAR(2)) Country,\n    CAST(payload..time_valid_utc AS TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS') Time_Valid_UTC,\n    CAST(payload..doy_utc AS INTEGER) DOY_UTC,\n    CAST(payload..hour_utc AS INTEGER) Hour_UTC,\n    CAST(payload..time_valid_lcl AS TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS') Time_Valid_LCL,\n    CAST(payload..dst_offset_minutes AS INTEGER) DST_Offset_Minutes,\n    CAST(payload..temperature_air_2m_f AS DECIMAL(4,1)) Temperature_Air_2M_F,\n    CAST(payload..temperature_wetbulb_2m_f AS DECIMAL(3,1)) Temperature_Wetbulb_2M_F,\n    CAST(payload..temperature_dewpoint_2m_f AS DECIMAL(3,1)) Temperature_Dewpoint_2M_F,\n    CAST(payload..temperature_feelslike_2m_f AS DECIMAL(4,1)) Temperature_Feelslike_2M_F,\n    CAST(payload..temperature_windchill_2m_f AS DECIMAL(4,1)) Temperature_Windchill_2M_F,\n    CAST(payload..temperature_heatindex_2m_f AS DECIMAL(4,1)) Temperature_Heatindex_2M_F,\n    CAST(payload..humidity_relative_2m_pct AS DECIMAL(3,1)) Humidity_Relative_2M_Pct,\n    CAST(payload..humidity_specific_2m_gpkg AS DECIMAL(3,1)) Humdity_Specific_2M_GPKG,\n    CAST(payload..pressure_2m_mb AS DECIMAL(5,1)) Pressure_2M_Mb,\n    CAST(payload..pressure_tendency_2m_mb AS DECIMAL(2,1)) Pressure_Tendency_2M_Mb,\n    CAST(payload..pressure_mean_sea_level_mb AS DECIMAL(5,1)) Pressure_Mean_Sea_Level_Mb,\n    CAST(payload..wind_speed_10m_mph AS DECIMAL(3,1)) Wind_Speed_10M_MPH,\n    CAST(payload..wind_direction_10m_deg AS DECIMAL(4,1)) Wind_Direction_10M_Deg,\n    CAST(payload..wind_speed_80m_mph AS DECIMAL(3,1)) Wind_Speed_80M_MPH,\n    CAST(payload..wind_direction_80m_deg AS DECIMAL(4,1)) Wind_Direction_80M_Deg,\n    CAST(payload..wind_speed_100m_mph AS DECIMAL(3,1)) Wind_Speed_100M_MPH,\n    CAST(payload..wind_direction_100m_deg AS DECIMAL(4,1)) Wind_Direction_100M_Deg,\n    CAST(payload..precipitation_in AS DECIMAL(3,2)) Precipitation_in,\n    CAST(payload..snowfall_in AS DECIMAL(3,2)) Snowfall_in,\n    CAST(payload..cloud_cover_pct AS INTEGER) Cloud_Cover_Pct,\n    CAST(payload..radiation_solar_total_wpm2 AS DECIMAL(5,1)) Radiation_Solar_Total_WPM2\n  FROM\n    WeatherData\n  WHERE\n    Postal_Code = '36101'\n)\nWITH DATA\nNO PRIMARY INDEX\n"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following SQL command to validate the contents of the table."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT * FROM WeatherData_temp SAMPLE 10;\n"})}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.img,{src:t(34658).A+"",width:"1586",height:"223"}),"[Weather data,width=624,height=87]"]}),"\n",(0,n.jsx)(a.h4,{id:"create-the-table-and-load-the-data-in-multiple-statements",children:"Create the table and load the data in multiple statements"}),"\n",(0,n.jsx)(a.p,{children:"You can also use multiple statements to first create the relational table and then load the data. An advantage of this choice is that you can perform multiple loads, possibly selecting different data or loading in smaller increments if the object is very large."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following SQL command to create the relational table."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"CREATE MULTISET TABLE WeatherData_temp (\n  Postal_code VARCHAR(10),\n  Country CHAR(2),\n  Time_Valid_UTC TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS',\n  DOY_UTC INTEGER,\n  Hour_UTC INTEGER,\n  Time_Valid_LCL TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS',\n  DST_Offset_Minutes INTEGER,\n  Temperature_Air_2M_F DECIMAL(4,1),\n  Temperature_Wetbulb_2M_F DECIMAL(3,1),\n  Temperature_Dewpoint_2M_F DECIMAL(3,1),\n  Temperature_Feelslike_2M_F DECIMAL(4,1),\n  Temperature_Windchill_2M_F DECIMAL(4,1),\n  Temperature_Heatindex_2M_F DECIMAL(4,1),\n  Humidity_Relative_2M_Pct DECIMAL(3,1),\n  Humdity_Specific_2M_GPKG DECIMAL(3,1),\n  Pressure_2M_Mb DECIMAL(5,1),\n  Pressure_Tendency_2M_Mb DECIMAL(2,1),\n  Pressure_Mean_Sea_Level_Mb DECIMAL(5,1),\n  Wind_Speed_10M_MPH DECIMAL(3,1),\n  Wind_Direction_10M_Deg DECIMAL(4,1),\n  Wind_Speed_80M_MPH DECIMAL(3,1),\n  Wind_Direction_80M_Deg DECIMAL(4,1),\n  Wind_Speed_100M_MPH DECIMAL(3,1),\n  Wind_Direction_100M_Deg DECIMAL(4,1),\n  Precipitation_in DECIMAL(3,2),\n  Snowfall_in DECIMAL(3,2),\n  Cloud_Cover_Pct INTEGER,\n  Radiation_Solar_Total_WPM2 DECIMAL(5,1)\n)\nUNIQUE PRIMARY INDEX ( Postal_Code, Time_Valid_UTC )\n"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following SQL to load the data into the table."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"INSERT INTO WeatherData_temp\n  SELECT\n    CAST(payload..postal_code AS VARCHAR(10)) Postal_code,\n    CAST(payload..country AS CHAR(2)) Country,\n    CAST(payload..time_valid_utc AS TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS') Time_Valid_UTC,\n    CAST(payload..doy_utc AS INTEGER) DOY_UTC,\n    CAST(payload..hour_utc AS INTEGER) Hour_UTC,\n    CAST(payload..time_valid_lcl AS TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS') Time_Valid_LCL,\n    CAST(payload..dst_offset_minutes AS INTEGER) DST_Offset_Minutes,\n    CAST(payload..temperature_air_2m_f AS DECIMAL (4,1)) Temperature_Air_2M_F,\n    CAST(payload..temperature_wetbulb_2m_f AS DECIMAL(3,1)) Temperature_Wetbulb_2M_F,\n    CAST(payload..temperature_dewpoint_2m_f AS DECIMAL(3,1)) Temperature_Dewpoint_2M_F,\n    CAST(payload..temperature_feelslike_2m_f AS DECIMAL(4,1)) Temperature_Feelslike_2M_F,\n    CAST(payload..temperature_windchill_2m_f AS DECIMAL(4,1)) Temperature_Windchill_2M_F,\n    CAST(payload..temperature_heatindex_2m_f AS DECIMAL(4,1)) Temperature_Heatindex_2M_F,\n    CAST(payload..humidity_relative_2m_pct AS DECIMAL(3,1)) Humidity_Relative_2M_Pct,\n    CAST(payload..humidity_specific_2m_gpkg AS DECIMAL(3,1)) Humdity_Specific_2M_GPKG,\n    CAST(payload..pressure_2m_mb AS DECIMAL(5,1)) Pressure_2M_Mb,\n    CAST(payload..pressure_tendency_2m_mb AS DECIMAL(2,1)) Pressure_Tendency_2M_Mb,\n    CAST(payload..pressure_mean_sea_level_mb AS DECIMAL(5,1)) Pressure_Mean_Sea_Level_Mb,\n    CAST(payload..wind_speed_10m_mph AS DECIMAL(3,1)) Wind_Speed_10M_MPH,\n    CAST(payload..wind_direction_10m_deg AS DECIMAL(4,1)) Wind_Direction_10M_Deg,\n    CAST(payload..wind_speed_80m_mph AS DECIMAL(3,1)) Wind_Speed_80M_MPH,\n    CAST(payload..wind_direction_80m_deg AS DECIMAL(4,1)) Wind_Direction_80M_Deg,\n    CAST(payload..wind_speed_100m_mph AS DECIMAL(3,1)) Wind_Speed_100M_MPH,\n    CAST(payload..wind_direction_100m_deg AS DECIMAL(4,1)) Wind_Direction_100M_Deg,\n    CAST(payload..precipitation_in AS DECIMAL(3,2)) Precipitation_in,\n    CAST(payload..snowfall_in AS DECIMAL(3,2)) Snowfall_in,\n    CAST(payload..cloud_cover_pct AS INTEGER) Cloud_Cover_Pct,\n    CAST(payload..radiation_solar_total_wpm2 AS DECIMAL(5,1)) Radiation_Solar_Total_WPM2\n  FROM\n    WeatherData\n  WHERE\n    Postal_Code = '30301'\n"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following SQL command to validate the contents of the table."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT * FROM WeatherData_temp SAMPLE 10;\n"})}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.img,{src:t(90745).A+"",width:"1617",height:"219"}),"[WeatherData_temp,width=624,height=84]"]}),"\n",(0,n.jsx)(a.h4,{id:"read_nos---an-alternative-method-to-foreign-tables",children:"READ_NOS - An alternative method to foreign tables"}),"\n",(0,n.jsxs)(a.p,{children:["An alternative to defining a foreign table is to use the ",(0,n.jsx)(a.code,{children:"READ_NOS"})," table operator. This table operator allows you to access data directly from an object store without first creating a foreign table, or to view a list of the keys associated with all the objects specified by a Location clause."]}),"\n",(0,n.jsxs)(a.p,{children:["You can use the ",(0,n.jsx)(a.code,{children:"READ_NOS"})," table operator to explore the data in an object."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following command to explore the data in an object."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",metastring:', id="azure_data_share_first_run", role="content-editable emits-gtm-events"',children:"SELECT\n  TOP 5 payload..*\nFROM\n  READ_NOS (\n    ON (SELECT CAST( NULL AS DATASET STORAGE FORMAT CSV))\n    USING\n      LOCATION ('/AZ/myconsumerstorage.blob.core.windows.net/consumerdata')\n      ACCESS_ID('myconsumerstorage')\n      ACCESS_KEY('*****')\n  ) AS THE_TABLE\n  ORDER BY 1\n"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["The ",(0,n.jsx)(a.em,{children:"LOCATION"})," requires a storage account name and container name. This is highlighted above in yellow. You will need to replace this with your own storage account and container name."]}),"\n",(0,n.jsxs)(a.li,{children:["Replace the string for ",(0,n.jsx)(a.em,{children:"ACCESS_ID"})," with your Storage Account Name."]}),"\n",(0,n.jsxs)(a.li,{children:["Replace the string for ",(0,n.jsx)(a.em,{children:"ACCES_KEY"})," with your Storage Account Access Key or SAS Token"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.img,{src:t(84496).A+"",width:"873",height:"121"}),"[READ_NOS,width=624,height=86]"]}),"\n",(0,n.jsx)(a.p,{children:"You can also leverage the READ_NOS table operator to get the length (size) of the object."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Run the following SQL command to view the size of the object."}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT\n  location(CHAR(120)), ObjectLength\nFROM\n  READ_NOS (\n    ON (SELECT CAST( NULL AS DATASET STORAGE FORMAT CSV))\n    USING\n      LOCATION ('/AZ/myconsumerstorage.blob.core.windows.net/consumerdata')\n      ACCESS_ID('myconsumerstorage')\n      ACCESS_KEY('*****')\n      RETURNTYPE('NOSREAD_KEYS')\n  ) AS THE_TABLE\nORDER BY 1\n"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Replace the values for ",(0,n.jsx)(a.em,{children:"LOCATION"}),", ",(0,n.jsx)(a.em,{children:"ACCESS_ID"}),", and ",(0,n.jsx)(a.em,{children:"ACCESS_KEY"}),"."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"READ_NOS object length",src:t(4407).A+"",width:"2075",height:"101"})}),"\n",(0,n.jsx)(a.p,{children:"You can substitute the NOS_READ table operator for a foreign table definition in the above section for loading the data into a relational table."}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"CREATE MULTISET TABLE WeatherData_temp AS (\n  SELECT\n    CAST(payload..postal_code AS VARCHAR(10)) Postal_code,\n    CAST(payload..country AS CHAR(2)) Country,\n    CAST(payload..time_valid_utc AS TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS') Time_Valid_UTC,\n    CAST(payload..doy_utc AS INTEGER) DOY_UTC,\n    CAST(payload..hour_utc AS INTEGER) Hour_UTC,\n    CAST(payload..time_valid_lcl AS TIMESTAMP(0) FORMAT 'YYYY-MM-DDBHH:MI:SS') Time_Valid_LCL,\n    CAST(payload..dst_offset_minutes AS INTEGER) DST_Offset_Minutes,\n    CAST(payload..temperature_air_2m_f AS DECIMAL (4,1)) Temperature_Air_2M_F,\n    CAST(payload..temperature_wetbulb_2m_f AS DECIMAL(3,1)) Temperature_Wetbulb_2M_F,\n    CAST(payload..temperature_dewpoint_2m_f AS DECIMAL(3,1)) Temperature_Dewpoint_2M_F,\n    CAST(payload..temperature_feelslike_2m_f AS DECIMAL(4,1)) Temperature_Feelslike_2M_F,\n    CAST(payload..temperature_windchill_2m_f AS DECIMAL(4,1)) Temperature_Windchill_2M_F,\n    CAST(payload..temperature_heatindex_2m_f AS DECIMAL(4,1)) Temperature_Heatindex_2M_F,\n    CAST(payload..humidity_relative_2m_pct AS DECIMAL(3,1)) Humidity_Relative_2M_Pct,\n    CAST(payload..humidity_specific_2m_gpkg AS DECIMAL(3,1)) Humdity_Specific_2M_GPKG,\n    CAST(payload..pressure_2m_mb AS DECIMAL(5,1)) Pressure_2M_Mb,\n    CAST(payload..pressure_tendency_2m_mb AS DECIMAL(2,1)) Pressure_Tendency_2M_Mb,\n    CAST(payload..pressure_mean_sea_level_mb AS DECIMAL(5,1)) Pressure_Mean_Sea_Level_Mb,\n    CAST(payload..wind_speed_10m_mph AS DECIMAL(3,1)) Wind_Speed_10M_MPH,\n    CAST(payload..wind_direction_10m_deg AS DECIMAL(4,1)) Wind_Direction_10M_Deg,\n    CAST(payload..wind_speed_80m_mph AS DECIMAL(3,1)) Wind_Speed_80M_MPH,\n    CAST(payload..wind_direction_80m_deg AS DECIMAL(4,1)) Wind_Direction_80M_Deg,\n    CAST(payload..wind_speed_100m_mph AS DECIMAL(3,1)) Wind_Speed_100M_MPH,\n    CAST(payload..wind_direction_100m_deg AS DECIMAL(4,1)) Wind_Direction_100M_Deg,\n    CAST(payload..precipitation_in AS DECIMAL(3,2)) Precipitation_in,\n    CAST(payload..snowfall_in AS DECIMAL(3,2)) Snowfall_in,\n    CAST(payload..cloud_cover_pct AS INTEGER) Cloud_Cover_Pct,\n    CAST(payload..radiation_solar_total_wpm2 AS DECIMAL(5,1)) Radiation_Solar_Total_WPM2\n  FROM\n    READ_NOS (\n      ON (SELECT CAST( NULL AS DATASET STORAGE FORMAT CSV))\n      USING\n        LOCATION ('/AZ/myconsumerstorage.blob.core.windows.net/consumerdata')\n        ACCESS_ID('myconsumerstorage')\n        ACCESS_KEY('*****')\n    ) AS THE_TABLE\n  WHERE\n    Postal_Code = '36101'\n)\nWITH DATA\n"})}),"\n","\n",(0,n.jsx)(s.Ay,{})]})}function u(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},16670:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image10-eac960e3d25c471b9b1ace9590f8b069.png"},69159:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image11-2c0facd9b6ab1d232d05fcc2fb2f2f52.png"},50156:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image12-f0ff25fd3945295268f9c2f54ea0b5ac.png"},2421:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image13-5c73e0690e3276322221f525221d2877.png"},78650:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image14-8758c3c7b3bc82927e3a27bab299ea3f.png"},26403:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image15-8c0a8bb4b9b8708d17f04641a01a3186.png"},89544:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image16-4af810f8df173470333ea1b4eee99eb5.png"},83409:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image17-7a9345301028f82b86c5e8b0724b9738.png"},6102:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image18-398e074719dcbddb0eae70d2848c714c.png"},19391:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image19-45e74238efe9bab01b17a5480178c401.png"},31903:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image2-5d868bf51fa70793b6566918f1c576d8.png"},80367:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image20-8951773189d5670f6825625c342edc01.png"},41350:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image21-2a045b2eaf30a8ccdf4958a9a39a65d1.png"},38909:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image22-f07d3eebe4c6e32458bbf2ad119cdb1b.png"},5876:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image23-d67abfa4cb95ebf66be03bf12b7cff5b.png"},55787:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image24-fe4c2c89e636d3760df068657b88e1fa.png"},34658:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image25-bec1628a80c1272a53d8f2a8a496525a.png"},90745:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image26-8daf93e915fdd6c63453e4bd60f53169.png"},84496:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image27-eb430b0611478a3e096dc897126f96f0.png"},4407:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image28-ca6c1ceb76669db1b03eb61d4f7e5813.png"},53814:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image3-8c6361c63a7d2cf8e15fe2b316add29c.png"},28073:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image4-54183d22ec5cca0b84dd21be4f48b938.png"},73248:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image5-e75db8477c7ccdcacfd90829a48bdaf1.png"},28283:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image6-403a9fdf890d257d9a18e5f26542e420.png"},62930:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image7-afb7de4b4a75cbec9032584f0c505192.png"},14933:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image8-22efe983358a3aa58305ad7d7d5b9bad.png"},32044:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/image9-5675102ed3135c1f9ea230c287e7de36.png"},28453:(e,a,t)=>{t.d(a,{R:()=>s,x:()=>o});var n=t(96540);const i={},r=n.createContext(i);function s(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);