"use strict";(self.webpackChunkai_unlimited_docs=self.webpackChunkai_unlimited_docs||[]).push([[9883],{11319:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>o});var r=t(74848),a=t(28453);const o=[];function s(e){const n={a:"a",admonition:"admonition",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",...(0,a.R)(),...e.components};return(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.p,{children:["\u3054\u8cea\u554f\u304c\u3042\u308b\u5834\u5408\u3084\u3055\u3089\u306b\u30b5\u30dd\u30fc\u30c8\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001 ",(0,r.jsx)(n.a,{href:"https://support.teradata.com/community",children:"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30d5\u30a9\u30fc\u30e9\u30e0"})," \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30b5\u30dd\u30fc\u30c8\u3092\u53d7\u3051\u305f\u308a\u3001\u4ed6\u306e\u30b3\u30df\u30e5\u30cb\u30c6\u30a3 \u30e1\u30f3\u30d0\u30fc\u3068\u4ea4\u6d41\u3057\u305f\u308a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})]})}function i(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},32442:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>o});var r=t(74848),a=t(28453);const o=[];function s(e){const n={a:"a",admonition:"admonition",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",...(0,a.R)(),...e.components};return(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.p,{children:["Vantage \u306e\u30c6\u30b9\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001 ",(0,r.jsx)(n.a,{href:"https://clearscape.teradata.com/sign-in?utm_source=dev_portal&utm_medium=quickstart_tutorial&utm_campaign=quickstarts",children:"https://clearscape.teradata.com"})," \u3067\u7121\u6599\u3067\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3067\u304d\u307e\u3059"]})]})}function i(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},5146:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var r=t(74848),a=t(28453),o=t(32442),s=t(11319);t(56240),t(19365);const i={sidebar_position:15,id:"segment",author:"Adam Tworkiewicz",email:"adam.tworkiewicz@teradata.com",page_last_update:"2022 \u5e74 1 \u6708 18 \u65e5",description:"Twilio Segment\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092 Teradata Vantage \u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",keywords:["data warehouses","compute storage separation","teradata","vantage","cloud data platform","object storage","business intelligence","enterprise analytics","customer data platform","cdp","segment"]},l="Twilio Segment\u304b\u3089\u30a4\u30d9\u30f3\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u65b9\u6cd5",c={id:"manage-data/segment",title:"Twilio Segment\u304b\u3089\u30a4\u30d9\u30f3\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u65b9\u6cd5",description:"Twilio Segment\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092 Teradata Vantage \u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",source:"@site/i18n/ja/docusaurus-plugin-content-docs-quickstarts/current/manage-data/segment.md",sourceDirName:"manage-data",slug:"/manage-data/segment",permalink:"/pr-preview/pr-150/ja/quickstarts/manage-data/segment",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15,id:"segment",author:"Adam Tworkiewicz",email:"adam.tworkiewicz@teradata.com",page_last_update:"2022 \u5e74 1 \u6708 18 \u65e5",description:"Twilio Segment\u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092 Teradata Vantage \u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",keywords:["data warehouses","compute storage separation","teradata","vantage","cloud data platform","object storage","business intelligence","enterprise analytics","customer data platform","cdp","segment"]},sidebar:"tutorialSidebar",previous:{title:"Amazon Appflow\u3092\u4f7f\u7528\u3057\u3066Vantage\u304b\u3089Salesforce\u3078\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5",permalink:"/pr-preview/pr-150/ja/quickstarts/manage-data/integrate-teradata-vantage-to-salesforce-using-amazon-appflow"},next:{title:"Azure Data Share \u3092 Teradata Vantage \u306b\u63a5\u7d9a\u3059\u308b",permalink:"/pr-preview/pr-150/ja/quickstarts/manage-data/connect-azure-data-share-to-teradata-vantage"}},u={},d=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",level:2},{value:"\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8",id:"\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8",level:2},{value:"\u524d\u63d0\u6761\u4ef6",id:"\u524d\u63d0\u6761\u4ef6",level:3},...o.RM,{value:"\u69cb\u7bc9\u3068\u30c7\u30d7\u30ed\u30a4",id:"\u69cb\u7bc9\u3068\u30c7\u30d7\u30ed\u30a4",level:3},{value:"\u8a66\u3057\u3066\u307f\u308b",id:"\u8a66\u3057\u3066\u307f\u308b",level:2},{value:"\u5236\u7d04",id:"\u5236\u7d04",level:2},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u3055\u3089\u306b\u8a73\u3057\u304f",id:"\u3055\u3089\u306b\u8a73\u3057\u304f",level:2},...s.RM];function g(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"twilio-segment\u304b\u3089\u30a4\u30d9\u30f3\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u65b9\u6cd5",children:"Twilio Segment\u304b\u3089\u30a4\u30d9\u30f3\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,r.jsx)(n.p,{children:"\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u3001Twilio Segment \u304b\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u30ea\u30c3\u30b9\u30f3\u3057\u3001\u30c7\u30fc\u30bf\u3092 Teradata Vantage \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u3053\u306e\u4f8b\u3067\u306f Google Cloud \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4efb\u610f\u306e\u30af\u30e9\u30a6\u30c9 \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u7ffb\u8a33\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",children:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"}),"\n",(0,r.jsx)(n.p,{children:"\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001Twilio Segment \u304c\u751f\u306e\u30a4\u30d9\u30f3\u30c8 \u30c7\u30fc\u30bf\u3092 Google Cloud Pub/Sub \u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002Pub/Sub \u306f\u30a4\u30d9\u30f3\u30c8\u3092 Cloud Run \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8ee2\u9001\u3057\u307e\u3059\u3002Cloud Run \u30a2\u30d7\u30ea\u306f\u30c7\u30fc\u30bf\u3092 Teradata Vantage \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u3053\u308c\u306f\u3001VM \u306e\u5272\u308a\u5f53\u3066\u3084\u7ba1\u7406\u3092\u5fc5\u8981\u3068\u3057\u306a\u3044\u30b5\u30fc\u30d0\u30fc\u30ec\u30b9 \u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Segment Google Cloud \u30d5\u30ed\u30fc\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0",src:t(63670).A+"",width:"933",height:"189"})}),"\n",(0,r.jsx)(n.h2,{id:"\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8",children:"\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8"}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u63d0\u6761\u4ef6",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Google Cloud \u30a2\u30ab\u30a6\u30f3\u30c8\u3002\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u5834\u5408\u306f\u3001",(0,r.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"https://console.cloud.google.com/"})," \u3067\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"gcloud"})," \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3002",(0,r.jsx)(n.a,{href:"https://cloud.google.com/sdk/docs/install",children:"https://cloud.google.com/sdk/docs/install"})," \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"Google Cloud Run \u304c\u901a\u4fe1\u3067\u304d\u308b Teradata Vantage \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002"}),"\n"]}),"\n",(0,r.jsx)(o.Ay,{}),"\n",(0,r.jsx)(n.h3,{id:"\u69cb\u7bc9\u3068\u30c7\u30d7\u30ed\u30a4",children:"\u69cb\u7bc9\u3068\u30c7\u30d7\u30ed\u30a4"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u30b5\u30f3\u30d7\u30eb \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git clone git@github.com:Teradata/segment-integration-tutorial.git\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u8a2d\u5b9a\u3059\u308b ",(0,r.jsx)(n.code,{children:"segment.sql"})," \u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u304a\u6c17\u306b\u5165\u308a\u306e SQL IDE\u3001 ",(0,r.jsx)(n.a,{href:"https://downloads.teradata.com/download/tools/teradata-studio",children:"Teradata Studio"})," \u3001\u307e\u305f\u306f ",(0,r.jsx)(n.code,{children:"bteq"})," \u3068\u547c\u3070\u308c\u308b\u30b3\u30de\u30f3\u30c9 \u30e9\u30a4\u30f3 \u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001Vantage db \u306b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059 ( ",(0,r.jsx)(n.a,{href:"https://downloads.teradata.com/node/7314",children:"Windows"}),"\u3001[]\u3001 ",(0,r.jsx)(n.a,{href:"https://downloads.teradata.com/node/200442",children:"Linux"}),"\u3001 ",(0,r.jsx)(n.a,{href:"https://downloads.teradata.com/node/201214",children:"macOS"}),"\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9)\u3002\nSQL \u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001",(0,r.jsx)(n.code,{children:"Segment"})," \u3068\u547c\u3070\u308c\u308b\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3001\u30bb\u30b0\u30e1\u30f3\u30c8 \u30a4\u30d9\u30f3\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u30bb\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3068\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud config set project <PROJECT_ID>\ngcloud config set compute/region <REGION>\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID \u3068\u756a\u53f7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u5f8c\u7d9a\u306e\u624b\u9806\u3067\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'export PROJECT_ID=$(gcloud config get-value project)\n\nexport PROJECT_NUMBER=$(gcloud projects list \\\n  --filter="$(gcloud config get-value project)" \\\n  --format="value(PROJECT_NUMBER)")\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsx)(n.li,{children:"\u5fc5\u8981\u306a Google Cloud \u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud services enable cloudbuild.googleapis.com containerregistry.googleapis.com run.googleapis.com secretmanager.googleapis.com pubsub.googleapis.com\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud builds submit --tag gcr.io/$PROJECT_ID/segment-listener\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsx)(n.li,{children:"Segment \u3068\u5171\u6709\u3059\u308b API \u30ad\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002API \u30ad\u30fc\u3092 Google Cloud Secret Manager \u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud secrets create VANTAGE_USER_SECRET\necho -n 'dbc' > /tmp/vantage_user.txt\ngcloud secrets versions add VANTAGE_USER_SECRET --data-file=/tmp/vantage_user.txt\n\ngcloud secrets create VANTAGE_PASSWORD_SECRET\necho -n 'dbc' > /tmp/vantage_password.txt\ngcloud secrets versions add VANTAGE_PASSWORD_SECRET --data-file=/tmp/vantage_password.txt\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"8",children:["\n",(0,r.jsx)(n.li,{children:"Vantage \u306b\u30bb\u30b0\u30e1\u30f3\u30c8 \u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f Cloud Run \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u307e\u305a\u3001Cloud Run \u304c\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud projects add-iam-policy-binding $PROJECT_ID \\\n     --member=serviceAccount:$PROJECT_NUMBER-compute@developer.gserviceaccount.com \\\n     --role=roles/secretmanager.secretAccessor\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"9",children:["\n",(0,r.jsxs)(n.li,{children:["\u30a2\u30d7\u30ea\u3092 Cloud Run \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059 ( ",(0,r.jsx)(n.code,{children:"<VANTAGE_HOST>"})," \u3092 Teradata Vantage \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30db\u30b9\u30c8\u540d\u307e\u305f\u306f IP \u306b\u7f6e\u304d\u63db\u3048\u307e\u3059)\u30022 \u756a\u76ee\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 \u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306f\u3001\u5f8c\u7d9a\u306e\u30b3\u30de\u30f3\u30c9\u306b\u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9 URL \u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud run deploy --image gcr.io/$PROJECT_ID/segment-listener segment-listener \\\n  --region $(gcloud config get-value compute/region) \\\n  --update-env-vars VANTAGE_HOST=35.239.251.1 \\\n  --update-secrets 'VANTAGE_USER=VANTAGE_USER_SECRET:1, VANTAGE_PASSWORD=VANTAGE_PASSWORD_SECRET:1' \\\n  --no-allow-unauthenticated\n\nexport SERVICE_URL=$(gcloud run services describe segment-listener --platform managed --region $(gcloud config get-value compute/region) --format 'value(status.url)')\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"10",children:["\n",(0,r.jsx)(n.li,{children:"Segment\u304b\u3089\u30a4\u30d9\u30f3\u30c8\u3092\u53d7\u4fe1\u3059\u308b Pub/Sub \u30c8\u30d4\u30c3\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud pubsub topics create segment-events\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"11",children:["\n",(0,r.jsx)(n.li,{children:"Pub/Sub \u304c Cloud Run \u30a2\u30d7\u30ea\u3092\u547c\u3073\u51fa\u3059\u305f\u3081\u306b\u4f7f\u7528\u3059\u308b\u30b5\u30fc\u30d3\u30b9 \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'gcloud iam service-accounts create cloud-run-pubsub-invoker \\\n     --display-name "Cloud Run Pub/Sub Invoker"\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"12",children:["\n",(0,r.jsx)(n.li,{children:"\u30b5\u30fc\u30d3\u30b9 \u30a2\u30ab\u30a6\u30f3\u30c8\u306b Cloud Run \u3092\u547c\u3073\u51fa\u3059\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud run services add-iam-policy-binding segment-listener \\\n  --region $(gcloud config get-value compute/region) \\\n  --member=serviceAccount:cloud-run-pubsub-invoker@$PROJECT_ID.iam.gserviceaccount.com \\\n  --role=roles/run.invoker\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"13",children:["\n",(0,r.jsx)(n.li,{children:"Pub/Sub \u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306b\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud projects add-iam-policy-binding $PROJECT_ID \\\n  --member=serviceAccount:service-$PROJECT_NUMBER@gcp-sa-pubsub.iam.gserviceaccount.com \\\n  --role=roles/iam.serviceAccountTokenCreator\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"14",children:["\n",(0,r.jsx)(n.li,{children:"\u30b5\u30fc\u30d3\u30b9 \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f7f\u7528\u3057\u3066Pub/Sub\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gcloud pubsub subscriptions create segment-events-cloudrun-subscription --topic projects/$PROJECT_ID/topics/segment-events \\\n   --push-endpoint=$SERVICE_URL \\\n   --push-auth-service-account=cloud-run-pubsub-invoker@$PROJECT_ID.iam.gserviceaccount.com \\\n   --max-retry-delay 600 \\\n   --min-retry-delay 30\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"15",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Segment \u304c\u30c8\u30d4\u30c3\u30af\u306b\u516c\u958b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001",(0,r.jsx)(n.a,{href:"https://console.cloud.google.com/cloudpubsub/topic/list",children:"https://console.cloud.google.com/cloudpubsub/topic/list"})," \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b ",(0,r.jsx)(n.code,{children:"pubsub@segment-integrations.iam.gserviceaccount.com"})," \u30ed\u30fc\u30eb ",(0,r.jsx)(n.code,{children:"Pub/Sub Publisher"})," \u3092\u5272\u308a\u5f53\u3066\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f ",(0,r.jsx)(n.a,{href:"https://segment.com/docs/connections/destinations/catalog/google-cloud-pubsub/#authentication",children:"\u30bb\u30b0\u30e1\u30f3\u30c8\u30de\u30cb\u30e5\u30a2\u30eb"})," \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Segment \u3067 Google Cloud Pub/Sub \u306e\u5b9b\u5148\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u5b8c\u5168\u306a\u30c8\u30d4\u30c3\u30af ",(0,r.jsx)(n.code,{children:"projects/<PROJECT_ID>/topics/segment-events"})," \u3092\u4f7f\u7528\u3057\u3001\u3059\u3079\u3066\u306e Segment \u30a4\u30d9\u30f3\u30c8 \u30bf\u30a4\u30d7 ( ",(0,r.jsx)(n.code,{children:"*"})," \u6587\u5b57\u3092\u4f7f\u7528) \u3092\u30c8\u30d4\u30c3\u30af\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u8a66\u3057\u3066\u307f\u308b",children:"\u8a66\u3057\u3066\u307f\u308b"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Segment \u306e\u30a4\u30d9\u30f3\u30c8 \u30c6\u30b9\u30bf\u30fc\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3001\u30b5\u30f3\u30d7\u30eb \u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30c8\u30d4\u30c3\u30af\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u30b5\u30f3\u30d7\u30eb \u30c7\u30fc\u30bf\u304c Vantage \u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5236\u7d04",children:"\u5236\u7d04"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u3053\u306e\u4f8b\u3067\u306f\u3001\u30a2\u30d7\u30ea\u3092\u5358\u4e00\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u307e\u3059\u3002\u591a\u304f\u306e\u5834\u5408\u3001\u3053\u306e\u8a2d\u5b9a\u3067\u306f\u5341\u5206\u306a\u7a3c\u50cd\u6642\u9593\u304c\u4fdd\u8a3c\u3055\u308c\u307e\u305b\u3093\u3002Cloud Run \u30a2\u30d7\u30ea\u306f\u3001\u30b0\u30ed\u30fc\u30d0\u30eb \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u306e\u80cc\u5f8c\u306b\u3042\u308b\u8907\u6570\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,r.jsx)(n.p,{children:"\u3053\u306e\u30cf\u30a6\u30c4\u30fc\u3067\u306f\u3001Segment \u30a4\u30d9\u30f3\u30c8\u3092 Teradata Vantage \u306b\u9001\u4fe1\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002\u3053\u306e\u69cb\u6210\u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u3092 Segment \u304b\u3089 Google Cloud Pub/Sub \u306b\u8ee2\u9001\u3057\u3001\u305d\u306e\u5f8c Cloud Run \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8ee2\u9001\u3057\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30c7\u30fc\u30bf\u3092 Teradata Vantage \u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u3055\u3089\u306b\u8a73\u3057\u304f",children:"\u3055\u3089\u306b\u8a73\u3057\u304f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://segment.com/docs/connections/destinations/catalog/google-cloud-pubsub/",children:"Segment\u306e Pub/Sub \u5b9b\u5148\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"})}),"\n"]}),"\n",(0,r.jsx)(s.Ay,{})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var r=t(34164);const a={tabItem:"tabItem_Ymn6"};var o=t(74848);function s(e){var n=e.children,t=e.hidden,s=e.className;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,s),hidden:t,children:n})}},56240:(e,n,t)=>{t.d(n,{A:()=>T});var r=t(96540),a=t(34164),o=t(23104),s=t(56347),i=t(205),l=t(57485);var c=t(89466);function u(e){var n,t;return null!=(n=null==(t=r.Children.toArray(e).filter((function(e){return"\n"!==e})).map((function(e){if(!e||(0,r.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}function d(e){var n=e.values,t=e.children;return(0,r.useMemo)((function(){var e=null!=n?n:function(e){return u(e).map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}}))}(t);return function(e){var n,t,r=(void 0===(t=function(e,n){return e.value===n.value})&&(t=function(e,n){return e===n}),(n=e).filter((function(e,r){return n.findIndex((function(n){return t(n,e)}))!==r})));if(r.length>0)throw new Error('Docusaurus error: Duplicate values "'+r.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function g(e){var n=e.value;return e.tabValues.some((function(e){return e.value===n}))}function m(e){var n=e.queryString,t=void 0!==n&&n,a=e.groupId,o=(0,s.W6)(),i=function(e){var n=e.queryString,t=void 0!==n&&n,r=e.groupId;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=r?r:null}({queryString:t,groupId:a});return[(0,l.aZ)(i),(0,r.useCallback)((function(e){if(i){var n=new URLSearchParams(o.location.search);n.set(i,e),o.replace(Object.assign({},o.location,{search:n.toString()}))}}),[i,o])]}function h(e){var n,t,a,o,s=e.defaultValue,l=e.queryString,u=void 0!==l&&l,h=e.groupId,p=d(e),x=(0,r.useState)((function(){return function(e){var n,t=e.defaultValue,r=e.tabValues;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!g({value:t,tabValues:r}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+r.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}var a=null!=(n=r.find((function(e){return e.default})))?n:r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:s,tabValues:p})})),j=x[0],v=x[1],b=m({queryString:u,groupId:h}),f=b[0],T=b[1],S=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:h}.groupId),t=(0,c.Dv)(n),a=t[0],o=t[1],[a,(0,r.useCallback)((function(e){n&&o.set(e)}),[n,o])]),E=S[0],R=S[1],w=function(){var e=null!=f?f:E;return g({value:e,tabValues:p})?e:null}();return(0,i.A)((function(){w&&v(w)}),[w]),{selectedValue:j,selectValue:(0,r.useCallback)((function(e){if(!g({value:e,tabValues:p}))throw new Error("Can't select invalid tab value="+e);v(e),T(e),R(e)}),[T,R,p]),tabValues:p}}var p=t(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(74848);function v(e){var n=e.className,t=e.block,r=e.selectedValue,s=e.selectValue,i=e.tabValues,l=[],c=(0,o.a_)().blockElementScrollPositionUntilNextRender,u=function(e){var n=e.currentTarget,t=l.indexOf(n),a=i[t].value;a!==r&&(c(n),s(a))},d=function(e){var n,t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":var r,a=l.indexOf(e.currentTarget)+1;t=null!=(r=l[a])?r:l[0];break;case"ArrowLeft":var o,s=l.indexOf(e.currentTarget)-1;t=null!=(o=l[s])?o:l[l.length-1]}null==(n=t)||n.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},n),children:i.map((function(e){var n=e.value,t=e.label,o=e.attributes;return(0,j.jsx)("li",Object.assign({role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:function(e){return l.push(e)},onKeyDown:d,onClick:u},o,{className:(0,a.A)("tabs__item",x.tabItem,null==o?void 0:o.className,{"tabs__item--active":r===n}),children:null!=t?t:n}),n)}))})}function b(e){var n=e.lazy,t=e.children,a=e.selectedValue,o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){var s=o.find((function(e){return e.props.value===a}));return s?(0,r.cloneElement)(s,{className:"margin-top--md"}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:o.map((function(e,n){return(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a})}))})}function f(e){var n=h(e);return(0,j.jsxs)("div",{className:(0,a.A)("tabs-container",x.tabList),children:[(0,j.jsx)(v,Object.assign({},e,n)),(0,j.jsx)(b,Object.assign({},e,n))]})}function T(e){var n=(0,p.A)();return(0,j.jsx)(f,Object.assign({},e,{children:u(e.children)}),String(n))}},63670:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/segment.flow.diagram-745525a22933c7b8742c25d4e961c76d.png"},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(96540);const a={},o=r.createContext(a);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);